{% extends 'base.html' %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock %}

{% block titulo %}TravelDream - Iniciar Sesión / Registro{% endblock %}

{% block contenido %}

<div class="background-image"></div>

<div class="login-container">
    <h2 class="login-title">Iniciar Sesión o Registrarse</h2>
    <p class="login-subtitle">Si no tienes cuenta, se creará automáticamente</p>

    <form action="{% url 'login_enter' %}" method="POST">
        {% csrf_token %}

        <!-- Email Field -->
        <div class="form-group">
            <label for="email">Correo electrónico *</label>
            <input type="email" id="email" name="email" placeholder="tu@email.com" required>
        </div>

        <!-- Password Field -->
        <div class="form-group">
            <label for="password">Contraseña *</label>
            <input type="password" id="password" name="password" placeholder="Tu contraseña" required>
            <small class="form-text">Mínimo 8 caracteres</small>
        </div>

        <!-- Optional Registration Fields (shown on demand or always) -->
        <div id="registration-fields">
            <div class="form-group">
                <label for="nombre">Nombre (opcional)</label>
                <input type="text" id="nombre" name="nombre" placeholder="Tu nombre">
            </div>

            <div class="form-group">
                <label for="apellido">Apellido (opcional)</label>
                <input type="text" id="apellido" name="apellido" placeholder="Tu apellido">
            </div>

            <div class="form-group">
                <label for="telefono">Teléfono (opcional)</label>
                <input type="tel" id="telefono" name="telefono" placeholder="+34 600 000 000">
            </div>
        </div>

        <button type="submit" class="login-button">Continuar</button>
        
        <p class="login-info">
            Al continuar, aceptas que si no tienes cuenta se creará una automáticamente.
        </p>
    </form>

    <!-- Messages -->
    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
        <div class="message {{ message.tags }}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

{% endblock %}