{% extends "base.html" %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/viajes.css' %}">
{% endblock %}

{% block contenido %}
     <div class="viajes-grid">
        {% for viaje in viajes %}
            <div class="viaje-card">
                <div class="viaje-image">
                    <img src="{% static 'images/' %}{{ viaje.destino.nombre|lower }}.jpg" alt="{{ viaje.destino.nombre }}">
                </div>
                
                <div class="viaje-info">
                    <div class="viaje-destino">{{ viaje.destino.nombre }}</div>
                    <div class="viaje-fechas">
                        {{ viaje.fecha_salida|date:"d/m/Y" }} - {{ viaje.fecha_regreso|date:"d/m/Y" }}
                    </div>
                    <div class="viaje-precio">â‚¬{{ viaje.precio }}</div>
                    <div class="viaje-plazas">
                        {{ viaje.plazas_disponibles }} / {{ viaje.plazas_totales }} plazas
                    </div>
                    <a href="{% url 'ver_reserva' viaje.viajeID%}" 
                       class="viaje-button {% if viaje.plazas_disponibles == 0 %}agotado{% endif %}">
                        {% if viaje.plazas_disponibles > 0 %}
                            Reservar
                        {% else %}
                            Agotado
                        {% endif %}
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>
   
{%  endblock  %}