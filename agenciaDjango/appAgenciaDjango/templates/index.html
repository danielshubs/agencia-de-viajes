{% extends 'base.html' %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/index.css' %}?v=1.5">
{% endblock %}
{% block extra_js %}
<script src="{% static 'js/index.js' %}"></script>
{% endblock %}
{% block titulo %}TravelDream - Inicio{% endblock %}

{% block contenido %}
<!-- Sección Frase Inspiradora -->
<section class="hero-section">
    <div class="hero-image"></div>
    <div class="hero-content">
        <h1 class="hero-title">Viajar te abre la puerta al mundo</h1>
        <p class="hero-subtitle">Descubre lugares increíbles y crea recuerdos que durarán para siempre</p>
        <a href="{% url 'destinos' %}" class="hero-button">Explorar Destinos</a>
    </div>
</section>

<!-- Separador -->
<div class="separator">
    <div class="separator-text">Quiénes Somos</div>
</div>

<!-- Sección Quiénes Somos -->
<section class="about-section">
    <div class="about-container">
        <div class="about-content">
            <div class="about-text">
                <p>En <strong>TravelDream</strong>, creemos que viajar es mucho más que moverse de un lugar a otro. Es descubrir nuevas culturas, sabores, paisajes y maneras de entender el mundo.</p>
                <p>Desde 2010, ayudamos a miles de viajeros a planificar aventuras a medida, con itinerarios cuidadosamente diseñados, alojamiento de calidad y el mejor asesoramiento. Nuestra misión es ofrecer viajes auténticos, sostenibles y transformadores.</p>
                <p>Nuestro equipo de expertos en viajes trabaja incansablemente para diseñar itinerarios personalizados que se adapten a tus sueños, preferencias y presupuesto.</p>
            </div>
            <div class="about-image">
                <img src="https://images.unsplash.com/photo-1523531294919-4bcd7c65e216?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Equipo de TravelDream">
            </div>
        </div>
    </div>
</section>

<!-- Sección Destinos Populares -->
<section class="destinations-section">
    <div class="destinations-container">
        <h2 class="section-title">Destinos Populares</h2>
        
        <div class="destinations-grid">
            {% for d in destinos|slice:":6" %}
                <div class="destination-card">
                    <div class="destination-image">
                        <img src="{% static 'images/' %}{{ d.nombre|lower }}.jpg?v=2" alt="{{ d.nombre }}">
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-name">{{d.nombre}}, {{d.pais}}</h3>
                        <p class="destination-description">{{d.descripcion}}</p>
                        <div class="destination-price">
                            Desde €{{ d.precio_base|default:"650" }}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <a href="{% url 'destinos' %}" class="explore-button">Explora más destinos</a>
        </div>
    </div>
</section>

<!-- Sección Reseñas -->
<section class="testimonials-section">
    <div class="testimonials-container">
        <h2 class="section-title">Lo que dicen nuestros clientes</h2>
        <div class="testimonials-grid">
            {% for reseña in reseñas %}
            <div class="testimonial-card">
                <!-- Sistema de estrellas simple -->
                <div class="star-rating">
                    <!-- Estrella 1 -->
                    {% if reseña.puntuacion >= 1 %}
                        <span class="star">★</span>
                    {% else %}
                        <span class="star empty">☆</span>
                    {% endif %}
                    
                    <!-- Estrella 2 -->
                    {% if reseña.puntuacion >= 2 %}
                        <span class="star">★</span>
                    {% else %}
                        <span class="star empty">☆</span>
                    {% endif %}
                    
                    <!-- Estrella 3 -->
                    {% if reseña.puntuacion >= 3 %}
                        <span class="star">★</span>
                    {% else %}
                        <span class="star empty">☆</span>
                    {% endif %}
                    
                    <!-- Estrella 4 -->
                    {% if reseña.puntuacion >= 4 %}
                        <span class="star">★</span>
                    {% else %}
                        <span class="star empty">☆</span>
                    {% endif %}
                    
                    <!-- Estrella 5 -->
                    {% if reseña.puntuacion >= 5 %}
                        <span class="star">★</span>
                    {% else %}
                        <span class="star empty">☆</span>
                    {% endif %}
                    
                    <span class="rating-number">{{ reseña.puntuacion }}/5</span>
                </div>
                
                <p class="testimonial-text">"{{ reseña.reseña }}"</p>
                <div class="testimonial-author">
                    <div class="author-info">
                        <h4>{{ reseña.nombre }}</h4>
                        {% if reseña.destino_viajado %}
                            <p>Viajó a {{ reseña.destino_viajado }}</p>
                        {% else %}
                            <p>Cliente satisfecho</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Opcional: Mensaje si no hay reseñas -->
        {% if not reseñas %}
        <div style="text-align: center; padding: 40px;">
            <p style="color: #666; font-style: italic;">Aún no hay reseñas disponibles.</p>
        </div>
        {% endif %}
    </div>
</section>

<!-- Sección reservar -->
<section class="cta-section">
    <div class="cta-container">
        <h2 class="cta-title">¿Listo para tu próxima aventura?</h2>
        <p class="cta-text">No esperes más para hacer realidad tus sueños de viaje. Nuestros expertos están listos para ayudarte a planificar la experiencia perfecta.</p>
        <a href="{% url 'destinos' %}" class="cta-button">Reservar Ahora</a>
    </div>
</section>

<!-- Popup Newsletter -->
<div id="newsletterPopup" class="newsletter-modal">
    <div class="newsletter-content">
        <span class="close-newsletter">&times;</span>
        <h3>¡No te pierdas nuestras ofertas!</h3>
        <p>Suscríbete para recibir descuentos exclusivos y novedades de viajes</p>
        <form class="newsletter-form">
            <input type="email" placeholder="Tu email" required>
            <button type="submit">Suscribirme</button>
        </form>
        <label class="newsletter-privacy">
            <input type="checkbox" required>
            Acepto la política de privacidad
        </label>
    </div>
</div>
{% endblock %}